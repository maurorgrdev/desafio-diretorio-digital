{"ast":null,"code":"import { reactive } from 'vue';\nimport api from 'axios';\nimport { ref, onMounted, computed } from \"vue\";\nimport { useFornecedorStore } from \"../../store/fornecedores\";\nimport Title from '../Title.vue';\nconst valid = true;\nexport default {\n  __name: 'FornecedorForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useFornecedorStore();\n    const getFornecedores = computed(() => {\n      return store.getFornecedores;\n    });\n    const fornecedores = computed(() => {\n      return store.fornecedores;\n    });\n    onMounted(() => {\n      console.log('teste');\n    });\n    const dadosIniciais = {\n      nome_empresa: '',\n      cnpj: '',\n      email: '',\n      cep: '',\n      endereco: '',\n      numero: '',\n      complemento: '',\n      bairro: '',\n      cidade: '',\n      estado: '',\n      telefone: '',\n      atuacao: ''\n    };\n    let arquivoSelecionado;\n    const dados = reactive({\n      ...dadosIniciais\n    });\n    const nameRules = [value => {\n      if (value) return true;\n      return 'Nome é obrigatório.';\n    }, value => {\n      if (value?.length <= 10) return true;\n      return 'Nome não pode ter mais de 10 letras.';\n    }];\n    const emailRules = [value => {\n      if (value) return true;\n      return 'E-mail é obrigatório.';\n    }, value => {\n      if (/.+@.+\\..+/.test(value)) return true;\n      return 'E-mail inválido.';\n    }];\n    function clear() {\n      v$.value.$reset();\n      for (const [key, value] of Object.entries(initialState)) {\n        state[key] = value;\n      }\n    }\n    function submit() {\n      store.addFornecedor(dados);\n      console.log('passou');\n    }\n    async function validate() {\n      await submit();\n      await upload();\n    }\n    function reset() {\n      this.$refs.form.reset();\n    }\n    function resetValidation() {\n      this.$refs.form.resetValidation();\n    }\n    function novoArquivo(event) {\n      // console.log(event);\n      arquivoSelecionado = event.target.files[0];\n    }\n    async function upload() {\n      let form = new FormData();\n      form.append('file', arquivoSelecionado);\n      form.append('name', arquivoSelecionado.name);\n      console.log(form);\n      console.log('after');\n      const haha = await api.post(\"/upload-fornecedor\", form, {\n        baseURL: 'http://localhost:8000/api/',\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      console.log(haha);\n    }\n    const __returned__ = {\n      store,\n      getFornecedores,\n      fornecedores,\n      valid,\n      dadosIniciais,\n      get arquivoSelecionado() {\n        return arquivoSelecionado;\n      },\n      set arquivoSelecionado(v) {\n        arquivoSelecionado = v;\n      },\n      dados,\n      nameRules,\n      emailRules,\n      clear,\n      submit,\n      validate,\n      reset,\n      resetValidation,\n      novoArquivo,\n      upload,\n      reactive,\n      get api() {\n        return api;\n      },\n      ref,\n      onMounted,\n      computed,\n      get useFornecedorStore() {\n        return useFornecedorStore;\n      },\n      Title\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","api","ref","onMounted","computed","useFornecedorStore","Title","valid","store","getFornecedores","fornecedores","console","log","dadosIniciais","nome_empresa","cnpj","email","cep","endereco","numero","complemento","bairro","cidade","estado","telefone","atuacao","arquivoSelecionado","dados","nameRules","value","length","emailRules","test","clear","v$","$reset","key","Object","entries","initialState","state","submit","addFornecedor","validate","upload","reset","$refs","form","resetValidation","novoArquivo","event","target","files","FormData","append","name","haha","post","baseURL","headers"],"sources":["/Users/mauroroger/Desktop/diretorio-digital/front-end-diretorio-digital/front-end/src/components/Fornecedor/FornecedorForm.vue"],"sourcesContent":["<template>\n  <v-card>\n    <v-card  style=\"margin: 0 auto\">\n      <template v-slot:title>\n        Cadastro de Fornecedor\n      </template>\n\n      <template v-slot:subtitle>\n        Cadastrando um novo fornecedor\n      </template>\n\n      <template v-slot:text>\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.nome_empresa\"\n              label=\"Nome\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.email\"\n              label=\"E-mail\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.cnpj\"\n              :counter=\"14\"\n              label=\"CNPJ\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.cep\"\n              label=\"CEP\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.endereco\"\n              label=\"Endereço\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.numero\"\n              label=\"Número\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.complemento\"\n              label=\"Complemento\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.bairro\"\n              label=\"Bairro\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.cidade\"\n              label=\"Cidade\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.estado\"\n              label=\"Estado\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.telefone\"\n              label=\"Telefone\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n          >\n            <v-text-field\n              v-model=\"dados.atuacao\"\n              label=\"atuacao\"\n              variant=\"solo\"\n              readonly\n            ></v-text-field>\n          </v-col>\n        </v-row>\n\n        <v-row>\n          <v-col cols=\"12\" md=\"4\">\n            <v-file-input\n              @change=\"novoArquivo\"\n              chips\n              multiple\n              variant=\"outlined\"\n              label=\"File input w/ chips\"\n            ></v-file-input>\n          </v-col>\n        </v-row>\n\n        <v-row style=\"tjustify-items: end;\">\n          \n            <!-- <v-btn\n              color=\"error\"\n              class=\"mt-4\"\n              @click=\"reset\"\n            >\n              Reset Form\n            </v-btn>\n          \n            <v-btn\n              color=\"warning\"\n              class=\"mt-4\"\n              @click=\"resetValidation\"\n            >\n              Reset Validation\n            </v-btn> -->\n            <v-btn\n              color=\"success\"\n              class=\"mt-4\"\n              @click=\"validate\"\n            >\n              Validate\n            </v-btn>\n        </v-row>\n      </template>\n    </v-card>\n  </v-card>\n</template>\n\n<script setup>\n  import { reactive } from 'vue'\n  import api from 'axios'\n  import { ref, onMounted, computed } from \"vue\";\n  import { useFornecedorStore } from \"../../store/fornecedores\";\n  import Title from '../Title.vue';\n\n  const store = useFornecedorStore();\n\n  const getFornecedores = computed(() => {\n    return store.getFornecedores;\n  });\n\n  const fornecedores = computed(() => {\n    return store.fornecedores;\n  });\n\n  onMounted(() => {\n    console.log('teste');\n  });\n\n  const valid = true\n  \n  const dadosIniciais = {\n    nome_empresa: '',\n    cnpj: '',\n    email: '',\n    cep: '',\n    endereco: '',\n    numero: '',\n    complemento: '',\n    bairro: '',\n    cidade: '',\n    estado: '',\n    telefone: '',\n    atuacao: '',\n  }\n\n  let arquivoSelecionado\n   \n  const dados = reactive({\n    ...dadosIniciais,\n  })\n\n  const nameRules = [\n    value => {\n        if (value) return true\n\n        return 'Nome é obrigatório.'\n    },\n    value => {\n        if (value?.length <= 10) return true\n\n        return 'Nome não pode ter mais de 10 letras.'\n    },\n  ]\n\n  const emailRules = [\n    value => {\n        if (value) return true\n\n        return 'E-mail é obrigatório.'\n    },\n    value => {\n        if (/.+@.+\\..+/.test(value)) return true\n\n        return 'E-mail inválido.'\n    },\n  ]\n\n  function clear () {\n    v$.value.$reset()\n\n    for (const [key, value] of Object.entries(initialState)) {\n      state[key] = value\n    }\n  }\n\n  function submit(){\n    store.addFornecedor(dados); \n    console.log('passou');\n  }\n\n  async function  validate () {\n    await submit();\n    await upload();\n  }\n  \n  function reset () {\n    this.$refs.form.reset()\n  }\n  \n  function resetValidation () {\n    this.$refs.form.resetValidation()\n  }\n\n  function novoArquivo(event){\n    // console.log(event);\n    arquivoSelecionado = event.target.files[0]\n  }\n\n  async function upload(){\n    \n    let form = new FormData()\n    form.append('file', arquivoSelecionado)\n    form.append('name', arquivoSelecionado.name)\n    console.log(form);\n    console.log('after');\n\n    const haha = await api.post(\"/upload-fornecedor\", form, {\n      baseURL: 'http://localhost:8000/api/',\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    console.log(haha);\n  }\n</script>\n\n<style>\n.container-main{\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}