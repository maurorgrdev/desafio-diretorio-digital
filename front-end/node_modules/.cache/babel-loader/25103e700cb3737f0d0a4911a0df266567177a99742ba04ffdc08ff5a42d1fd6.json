{"ast":null,"code":"import { defineStore } from 'pinia';\nimport api from \"../axios\";\nexport const useUsuarioStore = defineStore(\"usuario\", {\n  persist: true,\n  state: () => ({\n    usuario: {},\n    token: {}\n  }),\n  getters: {\n    getUsuario(state) {\n      return state.usuario;\n    }\n  },\n  actions: {\n    async login(data) {\n      try {\n        const response = await api.post('/login', data);\n        await console.log(response);\n        await localStorage.setItem(\"token\", response.data.access_token);\n        return true;\n      } catch (error) {\n        localStorage.setItem(\"token\", '');\n        return false;\n      }\n    },\n    async loadUsuario() {\n      try {\n        const response = await api.get('/user/show-user-log');\n        this.usuario = response.data;\n        return true;\n      } catch (error) {\n        localStorage.setItem(\"token\", '');\n        return false;\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","api","useUsuarioStore","persist","state","usuario","token","getters","getUsuario","actions","login","data","response","post","console","log","localStorage","setItem","access_token","error","loadUsuario","get"],"sources":["/Users/mauroroger/Desktop/diretorio-digital/front-end-diretorio-digital/front-end/src/store/user.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport api from \"../axios\"\n\nexport const useUsuarioStore = defineStore(\"usuario\", {\n    persist: true,\n    state: () => ({\n        usuario: {},\n        token: {},\n    }),\n    getters: {\n      getUsuario(state){\n          return state.usuario\n        }\n    },\n    actions: {\n        async login(data){\n            try {\n                const response = await api.post('/login', data);\n                \n                await console.log(response);\n                await localStorage.setItem(\"token\", response.data.access_token);\n\n                return true;\n            } catch (error) {\n                localStorage.setItem(\"token\", '');\n\n                return false;\n            }\n        },\n\n        async loadUsuario(){\n            try {\n                const response = await api.get('/user/show-user-log');\n                \n                this.usuario = response.data;\n\n                return true;\n            } catch (error) {\n                localStorage.setItem(\"token\", '');\n\n                return false;\n            }\n        }\n    },\n  });"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,OAAOC,GAAG,MAAM,UAAU;AAE1B,OAAO,MAAMC,eAAe,GAAGF,WAAW,CAAC,SAAS,EAAE;EAClDG,OAAO,EAAE,IAAI;EACbC,KAAK,EAAEA,CAAA,MAAO;IACVC,OAAO,EAAE,CAAC,CAAC;IACXC,KAAK,EAAE,CAAC;EACZ,CAAC,CAAC;EACFC,OAAO,EAAE;IACPC,UAAUA,CAACJ,KAAK,EAAC;MACb,OAAOA,KAAK,CAACC,OAAO;IACtB;EACJ,CAAC;EACDI,OAAO,EAAE;IACL,MAAMC,KAAKA,CAACC,IAAI,EAAC;MACb,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,QAAQ,EAAEF,IAAI,CAAC;QAE/C,MAAMG,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;QAC3B,MAAMI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACD,IAAI,CAACO,YAAY,CAAC;QAE/D,OAAO,IAAI;MACf,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZH,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;QAEjC,OAAO,KAAK;MAChB;IACJ,CAAC;IAED,MAAMG,WAAWA,CAAA,EAAE;MACf,IAAI;QACA,MAAMR,QAAQ,GAAG,MAAMX,GAAG,CAACoB,GAAG,CAAC,qBAAqB,CAAC;QAErD,IAAI,CAAChB,OAAO,GAAGO,QAAQ,CAACD,IAAI;QAE5B,OAAO,IAAI;MACf,CAAC,CAAC,OAAOQ,KAAK,EAAE;QACZH,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;QAEjC,OAAO,KAAK;MAChB;IACJ;EACJ;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}